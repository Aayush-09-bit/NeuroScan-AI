<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered MRI Tumor Detection System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Animated background particles -->
    <div class="particles" id="particles"></div>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg fixed-top" style="background: rgba(27, 26, 26, 0.9); backdrop-filter: blur(20px); border-bottom: 2.5px solid rgb(61, 91, 224); z-index: 1000;">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#" style="color: #667eea; font-weight: 700; font-size: 1.5rem;">
                <img src="{{ url_for('static', filename='symbol.png') }}" alt="Neuro-AI Logo" style="width: 80px; height: 50px; margin-right: 10px;">
                Neuro-Scan AI
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" style="border: 1px solid #667eea;">
                <span class="navbar-toggler-icon" style="background-image: url('data:image/svg+xml;charset=utf8,%3Csvg viewBox=\'0 0 30 30\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath stroke=\'rgba(102, 126, 234, 1)\' stroke-width=\'2\' d=\'M4 7h22M4 15h22M4 23h22\'/%3E%3C/svg%3E');"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link nav-btn" href="#about" style="color: rgba(255, 255, 255, 0.8); margin: 0 10px; transition: color 0.3s;">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-btn" href="#types" style="color: rgba(255, 255, 255, 0.8); margin: 0 10px; transition: color 0.3s;">Types</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-btn" href="#factors" style="color: rgba(255, 255, 255, 0.8); margin: 0 10px; transition: color 0.3s;">Factors</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-btn" href="#treatment" style="color: rgba(255, 255, 255, 0.8); margin: 0 10px; transition: color 0.3s;">Treatment</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link ai-detection-btn" href="#ai-detection" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 8px 20px; border-radius: 25px; margin: 0 10px; text-decoration: none; border: 2px solid transparent; transition: all 0.3s;">Scan Now</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" style="padding-top: 80px;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1>AI-Enhanced Brain Tumor Diagnostics</h1>
                        <p class="lead mb-4" style="font-size: 1.3rem; color: rgba(255, 255, 255, 0.8);">
                            Advanced machine learning technology for accurate MRI brain tumor analysis. 
                            Early detection saves lives through precise AI diagnostics.
                        </p>
                        <a href="#ai-detection" class="btn btn-gradient btn-lg">
                            <i class="fas fa-brain me-2"></i>Start Detection
                        </a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="text-center hero-image">
                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDUwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9Im1yaUdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzY2N2VlYSIvPgo8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM3NjRiYTIiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8IS0tIE1SSSBNYWNoaW5lIC0tPgo8cmVjdCB4PSI1MCIgeT0iMTUwIiB3aWR0aD0iMzAwIiBoZWlnaHQ9IjE4MCIgcng9IjIwIiBmaWxsPSIjMmEzNDVhIiBzdHJva2U9InVybCgjbXJpR3JhZGllbnQpIiBzdHJva2Utd2lkdGg9IjMiLz4KPGNpcmNsZSBjeD0iMjAwIiBjeT0iMjQwIiByPSI4MCIgZmlsbD0iIzFhMjMzOCIgc3Ryb2tlPSJ1cmwoI21yaUdyYWRpZW50KSIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxjaXJjbGUgY3g9IjIwMCIgY3k9IjI0MCIgcj0iNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzY2N2VlYSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtZGFzaGFycmF5PSI1LDUiIG9wYWNpdHk9IjAuNyI+CjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgYXR0cmlidXRlVHlwZT0iWE1MIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgMjAwIDI0MCIgdG89IjM2MCAyMDAgMjQwIiBkdXI9IjRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIvPgo8L2NpcmNsZT4KPCEtLSBCcmFpbiBTY2FuIC0tPgo8ZWxsaXBzZSBjeD0iMzgwIiBjeT0iMTgwIiByeD0iODAiIHJ5PSI2MCIgZmlsbD0iIzY2N2VlYSIgb3BhY2l0eT0iMC4zIi8+CjxwYXRoIGQ9Ik0zMjAgMTgwQzMyMCAxNDAgMzQ1IDEyMCAzODAgMTIwQzQxNSAxMjAgNDQwIDE0MCA0NDAgMTgwQzQ0MCAyMjAgNDE1IDI0MCAzODAgMjQwQzM0NSAyNDAgMzIwIDIyMCAzMjAgMTgwWiIgZmlsbD0iIzY2N2VlYSIgb3BhY2l0eT0iMC42Ii8+CjxjaXJjbGUgY3g9IjM2MCIgY3k9IjE2NSIgcj0iOCIgZmlsbD0iIzc2NGJhMiIvPgo8Y2lyY2xlIGN4PSI0MDAiIGN5PSIxOTUiIHI9IjYiIGZpbGw9IiM3NjRiYTIiLz4KPCEtLSBBSSBJY29uIC0tPgo8Y2lyY2xlIGN4PSIxMDAiIGN5PSI4MCIgcj0iMzAiIGZpbGw9InVybCgjbXJpR3JhZGllbnQpIiBvcGFjaXR5PSIwLjgiLz4KPHN2ZyB4PSI4NSIgeT0iNjUiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCI+CjxwYXRoIGQ9Ik0xNSA1TDI1IDEwTDE1IDE1TDUgMTBaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4KPHRleHQgeD0iMTAwIiB5PSIxMzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM2NjdlZWEiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiPkFJIEFuYWx5c2lzPC90ZXh0Pgo8L3N2Zz4=" alt="MRI Brain Scan" style="width: 100%; max-width: 500px; filter: drop-shadow(0 10px 30px rgba(102, 126, 234, 0.3));">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Brain Tumor Introduction -->
    <section class="py-5" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="glass p-5 fade-in">
                        <h2 class="section-title" style="color: #667eea;">Understanding Brain Tumors</h2>
                        <div class="row align-items-center">
                            <div class="col-lg-6">
                                <p class="lead">
                                    Brain tumors are abnormal growths of cells within the brain or skull that can be benign (non-cancerous) or malignant (cancerous). They can originate in the brain (primary tumors) or spread from other parts of the body (secondary tumors).
                                </p>
                                <p>
                                    Early detection is crucial for effective treatment and improved patient outcomes. Our AI-powered system analyzes MRI scans to identify potential tumors with high accuracy, assisting medical professionals in making informed decisions.
                                </p>
                            </div>
                            <div class="col-lg-6 text-center">
                                <img src="{{ url_for('static', filename='image.jpg') }}" alt="Brain with Tumor" 
                                     style="width: 100%; max-width: 290px; filter: drop-shadow(0 5px 20px rgba(102, 126, 234, 0.3)); border-radius: 10%; border: 2.5px solid #667eea;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tumor Types Section -->
    <section class="py-5" id="types">
        <div class="container">
            <h2 class="section-title" style="color: #f093fb;">Types of Brain Tumors</h2>
            <div class="row">
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="glass tumor-card p-4 h-100">
                        <div class="text-center">
                            <i class="fas fa-check-circle tumor-icon" style="color: #ff6b6b;"></i>
                            <h4 style="color: #ff6b6b;">Glioma</h4>
                            <p>The most common type of primary brain tumor that originates from glial cells. Can be low-grade or high-grade depending on aggressiveness.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="glass tumor-card p-4 h-100">
                        <div class="text-center">
                            <i class="fas fa-check-circle tumor-icon" style="color: #4facfe;"></i>
                            <h4 style="color: #4facfe;">Meningioma</h4>
                            <p>Tumors that develop from the meninges, the protective membranes surrounding the brain. Usually benign and slow-growing.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="glass tumor-card p-4 h-100">
                        <div class="text-center">
                            <i class="fas fa-check-circle tumor-icon" style="color: #fa709a;"></i>
                            <h4 style="color: #fa709a;">Pituitary</h4>
                            <p>Tumors in the pituitary gland that can affect hormone production. Most are benign adenomas that may cause hormonal imbalances.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="glass tumor-card p-4 h-100">
                        <div class="text-center">
                            <i class="fas fa-check-circle tumor-icon" style="color: #00f2fe;"></i>
                            <h4 style="color: #00f2fe;">No Tumor</h4>
                            <p>Healthy brain tissue with no signs of abnormal growth or tumorous formations. Regular monitoring is still recommended.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Risk Factors Section -->
    <section class="py-5" id="factors">
        <div class="container">
            <h2 class="section-title" style="color: #ff6b6b;">Causes & Risk Factors</h2>
            <div class="row">
                <div class="col-lg-6">
                    <div class="risk-item">
                        <h5><i class="fas fa-radiation me-2"></i>Radiation Exposure</h5>
                        <p>Previous radiation therapy to the head increases risk of developing brain tumors later in life.</p>
                    </div>
                    <div class="risk-item">
                        <h5><i class="fas fa-dna me-2"></i>Genetic Factors</h5>
                        <p>Family history and inherited genetic syndromes can predispose individuals to brain tumors.</p>
                    </div>
                    <div class="risk-item">
                        <h5><i class="fas fa-birthday-cake me-2"></i>Age</h5>
                        <p>Risk increases with age, though some types are more common in children and young adults.</p>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="risk-item">
                        <h5><i class="fas fa-shield-virus me-2"></i>Immune System</h5>
                        <p>Compromised immune systems may increase susceptibility to certain types of brain tumors.</p>
                    </div>
                    <div class="risk-item">
                        <h5><i class="fas fa-mobile-alt me-2"></i>Environmental Factors</h5>
                        <p>Exposure to certain chemicals and electromagnetic fields is being studied as potential risk factors.</p>
                    </div>
                    <div class="risk-item">
                        <h5><i class="fas fa-venus-mars me-2"></i>Gender</h5>
                        <p>Some tumor types show gender preferences, with certain types more common in males or females.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Treatment Options Section -->
    <section class="py-5" id="treatment">
        <div class="container">
            <h2 class="section-title" style="color: #00f2fe;">Treatment Options</h2>
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <div class="treatment-card glass p-4 h-100">
                        <div class="text-center">
                            <i class="fas fa-cut" style="font-size: 3rem; color: #4facfe; margin-bottom: 1rem;"></i>
                            <h4 style="color: #4facfe;">Surgery</h4>
                            <p>Surgical removal of the tumor is often the first line of treatment, especially for accessible tumors.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="treatment-card glass p-4 h-100">
                        <div class="text-center">
                            <i class="fas fa-radiation" style="font-size: 3rem; color: #00f2fe; margin-bottom: 1rem;"></i>
                            <h4 style="color: #00f2fe;">Radiation Therapy</h4>
                            <p>High-energy beams target and destroy cancer cells while preserving healthy brain tissue.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="treatment-card glass p-4 h-100">
                        <div class="text-center">
                            <i class="fas fa-pills" style="font-size: 3rem; color: #667eea; margin-bottom: 1rem;"></i>
                            <h4 style="color: #667eea;">Chemotherapy</h4>
                            <p>Powerful medications that can cross the blood-brain barrier to target cancer cells throughout the brain.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Detection Section -->
    <section class="py-5" id="ai-detection">
        <div class="container">
            <div class="ai-section">
                <h2 class="section-title" style="color: #667eea;">AI-Powered Tumor Detection</h2>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="glass p-4">
                            <form method="POST" enctype="multipart/form-data" id="uploadForm">
                                <div class="upload-area" onclick="document.getElementById('file').click()">
                                    <i class="fas fa-cloud-upload-alt" style="font-size: 4rem; color: #667eea; margin-bottom: 1rem;"></i>
                                    <h4 style="color: #667eea;">Upload MRI Image</h4>
                                    <p style="color: rgba(255, 255, 255, 0.7);">Click here to select your MRI scan (JPEG, PNG, or other image formats)</p>
                                    <input type="file" class="d-none" id="file" name="file" accept="image/*" required onchange="showFileName()">
                                    <div id="fileName" class="mt-2"></div>
                                </div>
                                <div class="text-center mt-4">
                                    <button type="submit" class="btn btn-gradient btn-lg" id="analyzeBtn">
                                        <i class="fas fa-brain me-2"></i>Analyze Image
                                    </button>
                                </div>
                            </form>
                            
                            <div id="loadingSpinner" class="hidden text-center">
                                <div class="spinner"></div>
                                <p>Analyzing your MRI scan...</p>
                            </div>
                        </div>
                    </div>
                </div>

                {% if result %}
                <!-- Display Results -->
                <div class="results-section mt-4">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="text-center">
                                <h3 style="color: #667eea;">Analysis Results</h3>
                                <div class="mt-3">
                                    {% if 'No Tumor' in result %}
                                        <div class="alert" style="background: linear-gradient(135deg, rgba(0, 242, 254, 0.1) 0%, rgba(79, 172, 254, 0.1) 100%); border: 1px solid rgba(0, 242, 254, 0.3); color: #00f2fe;">
                                            <h4><i class="fas fa-check-circle me-2"></i>{{ result }}</h4>
                                            <p class="mb-0">Confidence: {{ confidence }}</p>
                                        </div>
                                    {% else %}
                                        <div class="alert" style="background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(238, 90, 36, 0.1) 100%); border: 1px solid rgba(255, 107, 107, 0.3); color: #ff6b6b;">
                                            <h4><i class="fas fa-exclamation-triangle me-2"></i>{{ result }}</h4>
                                            <p class="mb-0">Confidence: {{ confidence }}</p>
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="mt-3">
                                    <small style="color: rgba(255, 255, 255, 0.6);">
                                        <i class="fas fa-info-circle me-1"></i>
                                        This AI analysis is for screening purposes only. Please consult with a qualified medical professional for proper diagnosis and treatment.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="text-center">
                                <h5 style="color: #667eea;">Uploaded Image</h5>
                                <img src="{{ file_path }}" class="img-fluid result-image" alt="Uploaded MRI Image">
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4 text-center" style="background: rgba(0, 0, 0, 0.3); border-top: 1px solid rgba(255, 255, 255, 0.1);">
        <div class="container">
            <p style="color: rgba(255, 255, 255, 0.6);">
                &copy; 2024 AI Brain Tumor Detection System. 
                <span style="color: #667eea;">Advanced Healthcare Technology</span>
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Create animated particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Show selected file name
        function showFileName() {
            const fileInput = document.getElementById('file');
            const fileName = document.getElementById('fileName');
            if (fileInput.files.length > 0) {
                fileName.innerHTML = `<span style="color: #667eea;"><i class="fas fa-file-image me-2"></i>${fileInput.files[0].name}</span>`;
            }
        }

        // Handle form submission with loading state
        document.getElementById('uploadForm').addEventListener('submit', function(e) {
            const analyzeBtn = document.getElementById('analyzeBtn');
            const loadingSpinner = document.getElementById('loadingSpinner');
            
            analyzeBtn.style.display = 'none';
            loadingSpinner.classList.remove('hidden');
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Initialize particles when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            
            // Add scroll animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.glass').forEach(el => {
                observer.observe(el);
            });
        });
    </script>
</body>
</html>